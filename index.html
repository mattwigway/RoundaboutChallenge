<!DOCTYPE html>
<html>
    <head>
        <title>Roundabout Challenge</title>
        <script src="index.js" type="text/javascript"></script>
        <link rel="stylesheet" href="index.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">      
    </head>
    <body>
        <h1>Roundabout challenge</h1>

        <p>
            Speed kills. A pedestrian struck by a vehicle at 15 mph has a 5% chance of dying
            and a 10% chance of experiencing severe injuries. At 35 mph, they have a 30% chance of
            dying and a 60% chance of severe injury
            (<a href="https://aaafoundation.org/wp-content/uploads/2018/02/2011PedestrianRiskVsSpeedReport.pdf">Tefft 2011</a>).
    </p>

    <p>
        Roundabouts are a way to reduce conflict speeds between pedestrians and cars (as well as between different cars).
        They are proven to increase safety, but the engineering and geometry matters. Adust the parameters below to get
        the vehicle speed below 20 mph. The inscribed circle diameter is the overall size of the roundabout, whereas the island
        size is how much of that diameter is taken up by the island, and the approach radius is the tightness of the turn coming
        into the roundabout. The Entry-Circulatory Radius Ratio is the ratio of how hard drivers have to turn left vs. right.
        If it is too large or small, drivers may lose control when they have to steer harder than anticipated. Try to keep it
        between 0.8 and 1.2.
    </p>

        <div id="loading">Loading...<div class="spinner"></div></div>
        <div id="app" style="display: none; visibility: hidden;">
            <div id="display"></div>
            <div id="io" class="io">
                <div>
                    <label for="icd">Inscribed circle diameter</label>
                    <input type="range" min="10" max="65" id="icd" value="50" />
                    <span id="icd-readout"></span>m
                </div>
                <div>
                    <label for="island-size">Island size (percent of diameter)</label>
                    <input type="range" min="0" max="100" id="island-size" value="25">
                    <span id="island-size-readout"></span>%
                </div>
                <div>
                    <label for="approach-radius">Approach radius (meters)</label>
                    <input type="range" min="4" max="25" id="approach-radius" value="4">
                    <span id="approach-radius-readout"></span>m
                </div>

                <div id="calculating">Calculating... <div class="spinner"></div></div>
                <div id="outputs">
                    <div>
                        <div class="output-label">Vehicle Speed</div>
                        <div class="output"><span id="speed-mph"></span> mph</div>
                    </div>
                    <div>
                        <div class="output-label">Entry-Circulatory Radius Ratio</div>
                        <div class="output"><span id="ratio"></span></div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>